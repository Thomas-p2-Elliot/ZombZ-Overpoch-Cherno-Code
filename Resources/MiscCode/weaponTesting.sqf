/*---------------------------------------------------------------------------
Weapon Testing
---------------------------------------------------------------------------*/

//f7
if (_dikCode == 0x41) then {
	_handled = true;
	
	WEAPONWORKS = WEAPONWORKS + GPWEAPON;

	BUTTONHITBITCH = true;
};


//f8
if (_dikCode == 0x42) then {
	_handled = true;
	WEAPONBROKEN = WEAPONBROKEN + GPWEAPON;

	BUTTONHITBITCH = true;

};


_weapontestarray =
["gms_k98_rg",
"gms_k98_knife",
"M9",
"m16a4",
"M16A4_GL",
"M16A4_ACG_GL",
"M24",
"M240",
"Mk_48",
"M249",
"M4A1_Aim",
"M4A1_Aim_camo",
"M4A1_RCO_GL",
"M4A1_HWS_GL",
"PK",
"Pecheneg",
"SVD",
"G36_C_SD_eotech",
"G36a",
"G36K",
"MG36",
"M136",
"Javelin",
"Stinger",
"RPG7V",
"Strela",
"Igla",
"MetisLauncher",
"AK_47_S",
"AKS_GOLD",
"AK_74_GL",
"AK_107_GL_kobra",
"ksvk",
"m107",
"MeleeHatchet",
"Remington870",
"Crossbow",
"M107_DZ",
"m107_TWS_EP1",
"m107_TWS_EP1_DZ",
"DDOPP_X26",
"DDOPP_X26_b",
"RH_mk22",
"RH_mk22v",
"RH_usp",
"RH_mk2",
"RH_m9",
"RH_m9c",
"RH_muzi",
"RH_hk416",
"RH_hk416sdgleotech",
"RH_hk417s",
"RH_ctar21glacog",
"RH_ctar21m",
"RH_ctar21mgl",
"RH_mas",
"RH_masb",
"RH_acr",
"RH_acrgl",
"RH_acrglaim",
"RH_acrgleotech",
"RH_acrglacog",
"RH_acrb",
"RH_acrbgl",
"RH_acrbgleotech",
"RH_acrbglacog",
"RH_m14",
"RH_sc2",
"RH_m1s",
"RH_m1staim",
"RH_m1steot",
"PMC_documents",
"m8_carbineGL",
"RPG18",
"SMAW",
"USSOF_M16A3GL",
"USSOF_Mk_48",
"USSR_cheytacM200",
"USSR_cheytacM200_sd",
"ItemMatchbox_DZE",
"ItemMachete",
"ItemHatchet_DZE",
"ItemCrowbar",
"ItemMap_Debug",
"ItemShovel",
"ItemFishingPole",
"ItemSledge",
"BAF_AS50_scoped",
"BAF_AS50_scoped_DZ",
"m107_SKN",
"DMR_SKN",
"m240_scoped_EP1",
"M249_EP1",
"M249_m145_EP1",
"M249_m145_EP1_DZE",
"M60A4_EP1",
"BAF_AS50_TWS",
"BAF_LRR_scoped_W",
"BAF_NLAW_Launcher",
"BAF_L85A2_UGL_SUSAT",
"BAF_L85A2_UGL_ACOG",
"BAF_L85A2_RIS_CWS",
"BAF_L110A1_Aim",
"BAF_L7A2_GPMG",
"Mk_48_DES_EP1",
"M249_TWS_EP1",
"SVD_NSPU_EP1",
"M4A3_RCO_GL_EP1",
"Binocular_Vector",
"AK_74_GL_kobra",
"AKS_74",
"AKS_74_NSPU",
"AKS_74_GOSHAWK",
"M32_EP1",
"M79_EP1",
"Mk13_EP1",
"M110_TWS_EP1",
"M110_NVG_EP1",
"M47Launcher_EP1",
"MAAWS",
"SCAR_L_CQC",
"SCAR_L_CQC_Holo",
"SCAR_L_STD_EGLM_TWS",
"SCAR_H_STD_TWS_SD",
"AA12_PMC",
"PMC_AS50_scoped",
"PMC_AS50_TWS",
"m8_carbine_pmc",
"m8_compact_pmc",
"m8_tws_sd",
"m8_tws",
"FHQ_ACR_BASE_L",
"FHQ_ACR_BASE_F",
"FHQ_ACR_SD_BASE_L",
"FHQ_ACR_SD_BASE_F",
"FHQ_ACR_GL_BASE_L",
"FHQ_ACR_GL_BASE_F",
"FHQ_ACR_GL_SD_BASE_L",
"FHQ_ACR_GL_SD_BASE_F",
"FHQ_ACR_WDL_IRN",
"FHQ_ACR_WDL_IRN_F",
"FHQ_ACR_WDL_IRN_SD",
"FHQ_ACR_WDL_IRN_SD_F",
"FHQ_ACR_WDL_IRN_GL",
"FHQ_ACR_WDL_IRN_GL_F",
"FHQ_ACR_WDL_IRN_GL_SD",
"FHQ_ACR_WDL_CCO",
"FHQ_ACR_WDL_CCO_F",
"FHQ_ACR_WDL_CCO_SD",
"FHQ_ACR_WDL_CCO_GL",
"FHQ_ACR_WDL_CCO_GL_F",
"FHQ_ACR_WDL_CCO_GL_SD",
"FHQ_ACR_WDL_CCO_GL_SD_F",
"FHQ_ACR_WDL_RCO",
"FHQ_ACR_WDL_RCO_SD",
"FHQ_ACR_WDL_RCO_GL",
"FHQ_ACR_WDL_RCO_GL_F",
"FHQ_ACR_WDL_RCO_GL_SD",
"FHQ_ACR_WDL_RCO_GL_SD_F",
"FHQ_ACR_WDL_HWS",
"FHQ_ACR_WDL_HWS_GL",
"FHQ_ACR_WDL_HWS_GL_F",
"FHQ_ACR_WDL_HWS_SD",
"FHQ_ACR_WDL_HWS_GL_SD",
"FHQ_ACR_WDL_HWS_GL_SD_F",
"FHQ_ACR_WDL_G33",
"FHQ_ACR_WDL_G33_SD",
"FHQ_ACR_WDL_G33_GL",
"FHQ_ACR_WDL_G33_GL_F",
"FHQ_ACR_WDL_G33_GL_SD",
"FHQ_ACR_WDL_G33_GL_SD_F",
"FHQ_ACR_WDL_HAMR_F",
"FHQ_ACR_WDL_HAMR_SD",
"FHQ_ACR_WDL_HAMR_GL",
"FHQ_ACR_WDL_HAMR_GL_F",
"FHQ_ACR_WDL_HAMR_GL_SD_F",
"FHQ_ACR_WDL_TWS",
"FHQ_ACR_WDL_TWS_F",
"FHQ_ACR_WDL_TWS_SD",
"FHQ_ACR_WDL_TWS_SD_F",
"FHQ_ACR_WDL_TWS_GL",
"FHQ_ACR_WDL_TWS_GL_F",
"FHQ_ACR_WDL_TWS_GL_SD",
"FHQ_ACR_WDL_TWS_GL_SD_F",
"FHQ_ACR_BLK_IRN",
"FHQ_ACR_BLK_IRN_F",
"FHQ_ACR_BLK_IRN_SD",
"FHQ_ACR_BLK_IRN_SD_F",
"FHQ_ACR_BLK_IRN_GL",
"FHQ_ACR_BLK_IRN_GL_F",
"FHQ_ACR_BLK_IRN_GL_SD",
"FHQ_ACR_BLK_IRN_GL_SD_F",
"FHQ_ACR_BLK_CCO",
"FHQ_ACR_BLK_CCO_SD",
"FHQ_ACR_BLK_CCO_GL",
"FHQ_ACR_BLK_CCO_GL_F",
"FHQ_ACR_BLK_CCO_GL_SD",
"FHQ_ACR_BLK_RCO",
"FHQ_ACR_BLK_RCO_SD_F",
"FHQ_ACR_BLK_RCO_GL",
"FHQ_ACR_BLK_RCO_GL_F",
"FHQ_ACR_BLK_RCO_GL_SD",
"FHQ_ACR_BLK_RCO_GL_SD_F",
"FHQ_ACR_BLK_HWS",
"FHQ_ACR_BLK_HWS_F",
"FHQ_ACR_BLK_HWS_GL",
"FHQ_ACR_BLK_HWS_GL_F",
"FHQ_ACR_BLK_HWS_SD",
"FHQ_ACR_BLK_HWS_SD_F",
"FHQ_ACR_BLK_HWS_GL_SD",
"FHQ_ACR_BLK_G33",
"FHQ_ACR_BLK_G33_SD",
"FHQ_ACR_BLK_G33_SD_F",
"FHQ_ACR_BLK_G33_GL",
"FHQ_ACR_BLK_G33_GL_F",
"FHQ_ACR_BLK_G33_GL_SD",
"FHQ_ACR_BLK_G33_GL_SD_F",
"FHQ_ACR_BLK_HAMR",
"FHQ_ACR_BLK_HAMR_F",
"FHQ_ACR_BLK_HAMR_SD",
"FHQ_ACR_BLK_HAMR_GL",
"FHQ_ACR_BLK_HAMR_GL_F",
"FHQ_ACR_BLK_HAMR_GL_SD",
"FHQ_ACR_BLK_HAMR_GL_SD_F",
"FHQ_ACR_BLK_TWS",
"FHQ_ACR_BLK_TWS_F",
"FHQ_ACR_BLK_TWS_SD",
"FHQ_ACR_BLK_TWS_SD_F",
"FHQ_ACR_BLK_TWS_GL",
"FHQ_ACR_BLK_TWS_GL_F",
"FHQ_ACR_BLK_TWS_GL_SD",
"FHQ_ACR_BLK_TWS_GL_SD_F",
"FHQ_ACR_TAN_IRN",
"FHQ_ACR_TAN_IRN_F",
"FHQ_ACR_TAN_IRN_SD",
"FHQ_ACR_TAN_IRN_SD_F",
"FHQ_ACR_TAN_IRN_GL",
"FHQ_ACR_TAN_IRN_GL_F",
"FHQ_ACR_TAN_IRN_GL_SD",
"FHQ_ACR_TAN_IRN_GL_SD_F",
"FHQ_ACR_TAN_CCO",
"FHQ_ACR_TAN_CCO_F",
"FHQ_ACR_TAN_CCO_SD",
"FHQ_ACR_TAN_CCO_SD_F",
"FHQ_ACR_TAN_CCO_GL",
"FHQ_ACR_TAN_CCO_GL_F",
"FHQ_ACR_TAN_CCO_GL_SD",
"FHQ_ACR_TAN_RCO",
"FHQ_ACR_TAN_RCO_SD",
"FHQ_ACR_TAN_RCO_SD_F",
"FHQ_ACR_TAN_RCO_GL",
"FHQ_ACR_TAN_RCO_GL_F",
"FHQ_ACR_TAN_RCO_GL_SD",
"FHQ_ACR_TAN_HWS",
"FHQ_ACR_TAN_HWS_GL",
"FHQ_ACR_TAN_HWS_GL_F",
"FHQ_ACR_TAN_HWS_SD_F",
"FHQ_ACR_TAN_HWS_GL_SD",
"FHQ_ACR_TAN_HWS_GL_SD_F",
"FHQ_ACR_TAN_G33",
"FHQ_ACR_TAN_G33_F",
"FHQ_ACR_TAN_G33_SD",
"FHQ_ACR_TAN_G33_SD_F",
"FHQ_ACR_TAN_G33_GL",
"FHQ_ACR_TAN_G33_GL_F",
"FHQ_ACR_TAN_G33_GL_SD",
"FHQ_ACR_TAN_HAMR",
"FHQ_ACR_TAN_HAMR_F",
"FHQ_ACR_TAN_HAMR_SD",
"FHQ_ACR_TAN_HAMR_GL",
"FHQ_ACR_TAN_HAMR_GL_F",
"FHQ_ACR_TAN_HAMR_GL_SD",
"FHQ_ACR_TAN_HAMR_GL_SD_F",
"FHQ_ACR_TAN_TWS",
"FHQ_ACR_TAN_TWS_F",
"FHQ_ACR_TAN_TWS_SD",
"FHQ_ACR_TAN_TWS_SD_F",
"FHQ_ACR_TAN_TWS_GL",
"FHQ_ACR_TAN_TWS_GL_F",
"FHQ_ACR_TAN_TWS_GL_SD",
"FHQ_ACR_TAN_TWS_GL_SD_F",
"FHQ_ACR_SNW_IRN",
"FHQ_ACR_SNW_IRN_F",
"FHQ_ACR_SNW_IRN_SD",
"FHQ_ACR_SNW_IRN_GL",
"FHQ_ACR_SNW_IRN_GL_F",
"FHQ_ACR_SNW_IRN_GL_SD",
"FHQ_ACR_SNW_IRN_GL_SD_F",
"FHQ_ACR_SNW_CCO",
"FHQ_ACR_SNW_CCO_F",
"FHQ_ACR_SNW_CCO_SD",
"FHQ_ACR_SNW_CCO_GL",
"FHQ_ACR_SNW_CCO_GL_F",
"FHQ_ACR_SNW_CCO_GL_SD",
"FHQ_ACR_SNW_CCO_GL_SD_F",
"FHQ_ACR_SNW_RCO",
"FHQ_ACR_SNW_RCO_SD",
"FHQ_ACR_SNW_RCO_SD_F",
"FHQ_ACR_SNW_RCO_GL",
"FHQ_ACR_SNW_RCO_GL_F",
"FHQ_ACR_SNW_RCO_GL_SD",
"FHQ_ACR_SNW_RCO_GL_SD_F",
"FHQ_ACR_SNW_HWS",
"FHQ_ACR_SNW_HWS_F",
"FHQ_ACR_SNW_HWS_GL",
"FHQ_ACR_SNW_HWS_GL_F",
"FHQ_ACR_SNW_HWS_SD",
"FHQ_ACR_SNW_HWS_GL_SD",
"FHQ_ACR_SNW_HWS_GL_SD_F",
"FHQ_ACR_SNW_G33",
"FHQ_ACR_SNW_G33_F",
"FHQ_ACR_SNW_G33_SD",
"FHQ_ACR_SNW_G33_SD_F",
"FHQ_ACR_SNW_G33_GL",
"FHQ_ACR_SNW_G33_GL_F",
"FHQ_ACR_SNW_G33_GL_SD",
"FHQ_ACR_SNW_G33_GL_SD_F",
"FHQ_ACR_SNW_HAMR",
"FHQ_ACR_SNW_HAMR_F",
"FHQ_ACR_SNW_HAMR_SD",
"FHQ_ACR_SNW_HAMR_SD_F",
"FHQ_ACR_SNW_HAMR_GL",
"FHQ_ACR_SNW_HAMR_GL_F",
"FHQ_ACR_SNW_HAMR_GL_SD",
"FHQ_ACR_SNW_HAMR_GL_SD_F",
"FHQ_ACR_SNW_TWS",
"FHQ_ACR_SNW_TWS_F",
"FHQ_ACR_SNW_TWS_SD",
"FHQ_ACR_SNW_TWS_SD_F",
"FHQ_ACR_SNW_TWS_GL",
"FHQ_ACR_SNW_TWS_GL_F",
"FHQ_ACR_SNW_TWS_GL_SD",
"FHQ_ACR_SNW_TWS_GL_SD_F",
"FHQ_MSR_BASE",
"FHQ_MSR_SD_BASE",
"FHQ_MSR_DESERT",
"FHQ_MSR_SD_DESERT",
"FHQ_MSR_NV_DESERT",
"FHQ_MSR_NV_SD_DESERT",
"FHQ_MSR_TWS_DESERT",
"FHQ_MSR_TWS_SD_DESERT",
"FHQ_RSASS_BASE",
"FHQ_RSASS_SD_BASE",
"FHQ_RSASS_TWS_TAN",
"FHQ_RSASS_TWS_SD_TAN",
"FHQ_XM2010_BASE",
"FHQ_XM2010_SD_BASE",
"FHQ_XM2010_DESERT",
"FHQ_XM2010_SD_DESERT",
"FHQ_XM2010_NV_DESERT",
"FHQ_XM2010_NV_SD_DESERT",
"FHQ_XM2010_TWS_DESERT",
"FHQ_XM2010_TWS_SD_DESERT",
"FHQ_XM2010_WDL_CAMO",
"vil_AKM_BASE",
"vil_AK47_BASE",
"vil_AKS_BASE",
"vil_SKS",
"vil_Tt33",
"vil_APS",
"Vil_PYA",
"Vil_RPG16",
"Vil_RPG7V_PGO",
"Vil_RPG7d_PGO",
"Vil_RPG29",
"Vil_RPO_A",
"vilas_rpg22",
"vilas_rpg26",
"vil_PKP",
"vil_PK",
"vil_zastava_m84",
"vil_PKM",
"vil_RPK",
"vil_RPK75",
"vil_RPK75_M72",
"vil_RPK74",
"vil_RPK74M",
"vil_RPK74M_N",
"vil_VSS_PSO",
"vil_VSS_N",
"vil_VAL",
"vil_VAL_N",
"vil_9a91",
"vil_Groza_GL",
"vil_AK_47",
"vil_AKM_GL",
"vil_AKMS_GP25",
"vil_M70",
"vil_M70B",
"vil_M64",
"vil_ASH82",
"vil_AMD",
"vil_AMD63",
"vil_PMI",
"vil_PMIS",
"vil_MPi",
"vil_AK_nato_m80",
"vil_AK_74",
"vil_AK_74_gp",
"vil_AK_74_N",
"vil_AKS_74",
"vil_AKS_74_gp",
"vil_AKS_74p",
"vil_AKS_74p_45",
"vil_AK_74P",
"vil_AKS_74p_gp",
"vil_AK_74m",
"vil_AK_74M_N",
"vil_AK_74m_gp_29",
"vil_AK_74m_gp",
"vil_type88_1",
"vil_PMI74S",
"vil_Rak74sgl",
"vil_AK_101",
"vil_AK_103",
"vil_AK_105",
"vil_AK_107",
"vil_SVD_BASE",
"vil_SVU",
"vil_SVD_N",
"vil_Abakan",
"vil_Abakan_gp",
"vil_ak12",
"vil_ak12_gp",
"vil_AEK_GL",
"vil_AeK_3",
"vil_AeK_23",
"vil_USP",
"vil_uzi",
"vil_G3a4",
"vil_G3a4b",
"vil_G3an",
"vil_G3anb",
"vil_G3TGS",
"vil_G3TGSb",
"skavil_M60",
"skavil_M60e3",
"vil_Mg3",
"vil_M249_Para",
"vil_Minimi",
"vil_FnMag",
"vil_M240_B",
"vil_MG4",
"vil_MG4E",
"vil_DRM_BASE",
"vil_M24b", 
"vil_Fal_Para",
"vil_sg540",
"vil_sg542",
"vil_Insas",
"vil_Insas_lmg",
"vil_M16A1",
"vil_HK33",
"vil_G36KA4",
"vil_G36E",
"vil_G36VA4",
"vil_G36KVZ",
"vil_G36KSK",
"vil_G36CC",
"vil_HK416_IS",
"vil_CG84T",
"vil_Panzerfaust3"]; 

WEAPONWORKS = [];
WEAPONBROKEN = [];
GPWEAPON = [];
BUTTONHITBITCH = FALSE;

_cfgweapons = _weapontestarray; 
for "_i" from 0 to (count _cfgweapons)-1 do 
{
	_weapon = _cfgweapons select _i;

		_mags = getArray(configfile >> 'cfgWeapons' >> _weapon >> 'magazines'); 
		_config = str _mags;
		diag_log(_weapon); 
		diag_log(_config);

		Player addWeapon _weapon;
		Player addMagazine (_mags select 0);
		player selectWeapon _weapon;
		GPWEAPON = [_weapon];
		BUTTONHITBITCH = false;
		sleep 1;
		waitUntil {		   BUTTONHITBITCH	};

		player removeWeapon _weapon;
		
			
	 
};

diag_log("Working Weapons" + str WEAPONWORKS);
diag_log("Broken Weapons" + str WEAPONBROKEN);